document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".slide");e.forEach(e=>{e.classList.remove("bounce-in-right"),e.style.opacity="0"});let t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("bounce-in-right"),e.target.style.opacity="1",t.unobserve(e.target))})},{threshold:.2});e.forEach(e=>t.observe(e));let n=document.querySelector("h1"),l="CIAO! I'M GIUSEPPE",o=0;function r(){o<l.length?(n.innerHTML=`<span class="highlight">${l.substring(0,o+1)}</span>`,o++,setTimeout(r,100)):n.innerHTML=`<span class="highlight done">${l}</span>`}setTimeout(r,500),window.history.replaceState({},document.title,window.location.pathname);let i=document.querySelector("#project"),s=document.querySelector(".gif-animation");window.addEventListener("scroll",function e(){if(!i||!s)return;let t=i.offsetTop,n=i.offsetHeight,l=window.scrollY+window.innerHeight;l>=t&&l<=t+n&&s.classList.add("show")});let a=document.querySelectorAll("section, .container-fluid, footer"),c=document.querySelectorAll(".nav-link"),f=document.querySelector(".active-dot");function d(){let e=null,t=window.scrollY+window.innerHeight/2,n=document.body.scrollHeight,l=window.innerHeight+window.scrollY>=n-5;a.forEach(n=>{let o=n.offsetTop,r=n.offsetHeight,i=n.getAttribute("id");(t>=o&&t<o+r||"footer"===n.tagName.toLowerCase()&&l)&&(e=i)}),c.forEach(t=>{let n=t.getAttribute("href").substring(1);if(n===e){let l=t.getBoundingClientRect(),o=t.closest(".navbar").getBoundingClientRect();f.style.top=`${l.bottom-o.top+5}px`,f.style.left=`${l.left-o.left+l.width/2-f.offsetWidth/2}px`,f.style.opacity="1"}}),e||(f.style.opacity="0")}window.addEventListener("scroll",d),window.addEventListener("resize",d),d();let h=document.querySelector("#contact-form button[type='button']");h.addEventListener("click",function e(){let t=document.getElementById("email"),n=document.getElementById("form-message"),l=document.getElementById("contact-form");if(!t||!n||!l){console.error("Form elements not found!");return}let o={email:t.value,message:n.value};emailjs.send("service_h4su60f","template_55pkhe8",o).then(()=>{alert("Email successfully sent!"),l.reset()}).catch(e=>{console.error("Error sendind the email:",e),alert("Email non inviata. Riprova.")})})});